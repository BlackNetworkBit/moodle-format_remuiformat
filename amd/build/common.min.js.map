{"version":3,"sources":["common.js"],"names":["define","$","SELECTORS","ACTIVITY_TOGGLE","ACTIVITY_TOGGLE_CLASS","ACTIVITY_TOGGLE_WRAPPER","FIRST_SECTION","SHOW","adjustGeneralSectionActivities","length","width","window","getActivitiesPerRow","removeClass","hide","show","addClass","init","resize","on","this","hasClass","html","toggleClass","animate","scrollTop","offset","top"],"mappings":"AAuBCA,OAAO,CAAC,UAAW,SAASC,GAE3B,IAAIC,EAAY,CACfC,gBAAiB,gBACjBC,sBAAuB,mBACvBC,wBAAyB,uBACzBC,cAAe,aACfC,KAAM,QA+BP,SAASC,IACJP,EAAEC,EAAUI,cAAgB,cAAcG,QAzB/C,WACC,IAAIC,EAAQT,EAAEU,QAAQD,QACtB,OAAIT,EAAE,sBAAsBQ,OACvBC,GAAS,IACL,EAEJA,GAAS,IACL,EAED,EAEHA,GAAS,IACL,EAEJA,GAAS,IACL,EAED,EAQgDE,IACvDX,EAAEC,EAAUI,eAAeO,YAAYX,EAAUE,uBACjDH,EAAEC,EAAUG,yBAAyBS,SAErCb,EAAEC,EAAUG,yBAAyBU,OACrCd,EAAEC,EAAUI,eAAeU,SAASd,EAAUE,wBA6B9C,MAAO,CACNa,KA1BD,WAEChB,EAAE,0DAA0De,SAAS,mBAErER,IACAP,EAAEU,QAAQO,OAAO,WACVV,MAGJP,EAAEC,EAAUC,iBAAiBgB,GAAG,QAAS,WAErClB,EAAEmB,MAAMC,SAASnB,EAAUK,OAC1BN,EAAEmB,MAAME,KAAK,qDACbrB,EAAEmB,MAAMG,YAAYrB,EAAUK,QAE9BN,EAAEmB,MAAME,KAAK,uDACbrB,EAAEmB,MAAMG,YAAYrB,EAAUK,MAC9BN,EAAE,cAAcuB,QAAQ,CACvBC,UAAWxB,EAAEC,EAAUI,cAAgB,0BAA0BoB,SAASC,IAAM,IAC9E,SAEP1B,EAAEC,EAAUI,eAAeiB,YAAYrB,EAAUE,0BAMrDI,+BAAgCA","sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Enhancements to Lists components for easy course accessibility.\r\n *\r\n * @module     format/remuiformat\r\n * @copyright  WisdmLabs\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\n define(['jquery'], function($) {\r\n\r\n \tvar SELECTORS = {\r\n \t\tACTIVITY_TOGGLE: '.showactivity',\r\n \t\tACTIVITY_TOGGLE_CLASS: 'showhideactivity',\r\n \t\tACTIVITY_TOGGLE_WRAPPER: '.showactivitywrapper',\r\n \t\tFIRST_SECTION: '#section-0',\r\n \t\tSHOW: 'show'\r\n \t};\r\n\r\n \t/**\r\n \t * Get number activities can be shown in first row and hide rest\r\n \t * @return {Integer} Number activities in first row\r\n \t */\r\n \tfunction getActivitiesPerRow() {\r\n \t\tlet width = $(window).width();\r\n \t\tif ($('.remui-format-list').length) {\r\n\t \t\tif (width >= 992) {\r\n\t \t\t\treturn 4;\r\n\t \t\t}\r\n\t \t\tif (width >= 768) {\r\n\t \t\t\treturn 3;\r\n\t \t\t}\r\n\t \t\treturn 2;\r\n \t\t} else {\r\n \t\t\tif (width >= 768) {\r\n\t \t\t\treturn 3;\r\n\t \t\t}\r\n\t \t\tif (width >= 481) {\r\n\t \t\t\treturn 2;\r\n\t \t\t}\r\n\t \t\treturn 1;\r\n \t\t}\r\n \t}\r\n\r\n \t/**\r\n \t * Adjust the general section activities visibility after first row\r\n \t */\r\n \tfunction adjustGeneralSectionActivities() {\r\n \t\tif ($(SELECTORS.FIRST_SECTION + ' .activity').length <= getActivitiesPerRow()) {\r\n \t\t\t$(SELECTORS.FIRST_SECTION).removeClass(SELECTORS.ACTIVITY_TOGGLE_CLASS);\r\n \t\t\t$(SELECTORS.ACTIVITY_TOGGLE_WRAPPER).hide();\r\n \t\t} else {\r\n \t\t\t$(SELECTORS.ACTIVITY_TOGGLE_WRAPPER).show();\r\n \t\t\t$(SELECTORS.FIRST_SECTION).addClass(SELECTORS.ACTIVITY_TOGGLE_CLASS);\r\n \t\t}\r\n \t}\r\n\r\n    function init() {\r\n\r\n    \t$('#page-course-view-remuiformat .section-modchooser-link').addClass(\"btn btn-primary\");\r\n    \t\r\n    \tadjustGeneralSectionActivities();\r\n    \t$(window).resize(function() {\r\n            adjustGeneralSectionActivities();\r\n        });\r\n\r\n        $(SELECTORS.ACTIVITY_TOGGLE).on('click', function() {\r\n\r\n\t        if($(this).hasClass(SELECTORS.SHOW)) {\r\n\t            $(this).html('<i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i>');\r\n\t            $(this).toggleClass(SELECTORS.SHOW); //Remove show class\r\n\t        } else {\r\n\t            $(this).html('<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>');\r\n\t            $(this).toggleClass(SELECTORS.SHOW); //Add show class\r\n\t            $(\"html, body\").animate({\r\n\t            \tscrollTop: $(SELECTORS.FIRST_SECTION + ' .activity:first-child').offset().top - 66\r\n\t            }, \"slow\");\r\n\t        }\r\n\t        $(SELECTORS.FIRST_SECTION).toggleClass(SELECTORS.ACTIVITY_TOGGLE_CLASS);\r\n\t    });\r\n    }\r\n\r\n    return {\r\n    \tinit: init,\r\n    \tadjustGeneralSectionActivities: adjustGeneralSectionActivities\r\n    };\r\n});"],"file":"common.min.js"}